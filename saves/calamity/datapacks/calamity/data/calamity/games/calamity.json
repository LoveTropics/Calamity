{
  "name": {"translate": "ltminigames.minigame.calamity"},
  "statistics_key": "calamity",
  "map": {
    "type": "ltminigames:load_map",
    "load_from": "calamity:calamity",
    "dimension": "lt:games/calamity",
    "dimension_type": {
      "ultrawarm": false,
      "natural": true,
      "piglin_safe": true,
      "respawn_anchor_works": true,
      "bed_works": false,
      "has_raids": true,
      "has_skylight": false,
      "has_ceiling": true,
      "coordinate_scale": 1,
      "ambient_light": 0.1,
      "logical_height": 255,
      "effects": "minecraft:the_nether",
      "infiniburn": "minecraft:infiniburn_nether",
      "min_y": 0,
      "height": 256
    }
  },
  "minimum_participants": 1,
  "maximum_participants": 10,
  "waiting": {
    "map": {
      "type": "ltminigames:load_map",
      "load_from": "lt:waiting_lobby",
      "dimension_type": "tropicraft:tropics"
    },
    "behaviors": [
      {
        "type": "lt:common/waiting",
        "regions": {
          "spawn": "spawn"
        }
      },
      {
        "type": "ltminigames:setup_teams",
        "teams": [
          {
            "key": "red",
            "name": "Red",
            "dye": "red",
            "text": "red"
          },
          {
            "key": "blue",
            "name": "Blue",
            "dye": "blue",
            "text": "blue"
          }
        ]
      }
    ]
  },

  "behaviors": [
    {
      "type": "ltminigames:force_load_region",
      "region": "force_load"
    },

    "ltminigames:setup_telemetry",

    {
      "type": "ltminigames:set_game_types",
      "participant": "adventure",
      "spectator": "spectator"
    },

    "ltminigames:assign_player_roles",

    {
      "type": "ltminigames:join_as_role",
      "role": "spectator"
    },

    {
      "type": "ltminigames:position_players",
      "all": "spawn"
    },

    {
      "type": "ltminigames:teams",
      "static_team_ids": true
    },

    {
      "type": "ltminigames:commands",
      "ready": "function #calamity:load",
      "stop": "function calamity:game_state/remove_all_tags_teams_and_scoreboards",
      "player_participate": "function calamity:player/handle_joining_participant",
      "player_spectate": "function calamity:player/handle_joining_spectator",
      "player_remove": [
        "function calamity:player/reset_data",
        "tag @s remove Registered"
      ],
      "tick": "function calamity:tick"
    },
    {
      "type": "ltminigames:scheduled_commands",
      "run": "function calamity:game_state/start_match_countdown",
      "time": 300
    },

    {
      "type": "ltminigames:set_client_state",
      "state": {
        "type": "ltminigames:resource_pack",
        "pack_name": "file/Calamity"
      }
    },

    {
      "type": "ltminigames:set_game_rules",
      "rules": {
        "announceAdvancements": "false",
        "disableRaids": "true",
        "doDaylightCycle": "false",
        "doEntityDrops": "true",
        "doFireTick": "false",
        "doImmediateRespawn": "true",
        "doInsomnia": "false",
        "doLimitedCrafting": "false",
        "doMobLoot": "true",
        "doMobSpawning": "false",
        "doPatrolSpawning": "false",
        "doTileDrops": "true",
        "doTraderSpawning": "false",
        "doWeatherCycle": "false",
        "keepInventory": "false",
        "mobGriefing": "false",
        "naturalRegeneration": "true",
        "showDeathMessages": "true",
        "spawnRadius": "7"
      }
    },

    {
      "type": "ltminigames:set_day_time",
      "time": 18000
    },

    "ltminigames:place_by_death_order",
    "ltminigames:cause_of_death_tracker",
    "ltminigames:kills_tracker",
    "ltminigames:damage_tracker",
    "ltminigames:spectator_chase"
  ]
}
